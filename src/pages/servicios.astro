---
import BaseLayout from '../layouts/BaseLayout.astro';
import ServiceCard from '../components/services/ServiceCard.astro';
import PricingPlaceholder from '../components/services/PricingPlaceholder.astro';
import ServiceInfo from '../components/services/ServiceInfo.astro';
import TrialClassInfo from '../components/services/TrialClassInfo.astro';
import LocationInfo from '../components/services/LocationInfo.astro';
import FacilitiesAccordion from '../components/services/FacilitiesAccordion.astro';
import CTAButton from '../components/etapa1/shared/CTAButton.astro';

const title = 'Servicios - VivePilates';
const description =
  'Clases de Pilates personalizadas en Vitacura. M√°ximo 6 personas por clase, profesionales certificados y equipamiento de primera calidad.';
const currentPage = 'servicios';
---

<BaseLayout title={title} description={description} currentPage={currentPage}>
  <!-- Hero Aspiracional -->
  <section
    class="py-20 bg-gradient-to-br from-[var(--cream)] via-[var(--rose-pale)] to-[var(--warm-gray)] text-center relative overflow-hidden hero-section"
  >
    <!-- Fondo animado con elementos geom√©tricos avanzados -->
    <div class="absolute inset-0 overflow-hidden">
      <!-- Ondas de fondo -->
      <div class="wave-animation wave-1"></div>
      <div class="wave-animation wave-2"></div>
      <div class="wave-animation wave-3"></div>

      <!-- Part√≠culas flotantes geom√©tricas -->
      <div class="floating-elements">
        <div class="floating-circle circle-1"></div>
        <div class="floating-circle circle-2"></div>
        <div class="floating-circle circle-3"></div>
        <div class="floating-square square-1"></div>
        <div class="floating-square square-2"></div>
        <div class="floating-triangle triangle-1"></div>
        <div class="floating-triangle triangle-2"></div>
        <div class="floating-hexagon hexagon-1"></div>
        <div class="floating-diamond diamond-1"></div>
      </div>

      <!-- Gradiente din√°mico superpuesto -->
      <div class="dynamic-gradient"></div>
    </div>

    <div class="container mx-auto px-4 relative z-10">
      <h1
        class="text-4xl md:text-5xl font-bold mb-6 text-[var(--deep-coral)] leading-tight animate-fade-in-up"
      >
        Servicios Personalizados para Tu Bienestar
      </h1>
      <p
        class="text-xl md:text-2xl mt-4 text-[var(--trust-blue)] font-medium mb-6 animate-fade-in-up animation-delay-300"
      >
        Clases en Vitacura con Atenci√≥n Exclusiva
      </p>
      <p
        class="text-lg mt-4 text-[var(--charcoal-gray)] max-w-3xl mx-auto leading-relaxed animate-fade-in-up animation-delay-600"
      >
        Ofrecemos una experiencia √∫nica de Pilates con grupos reducidos,
        equipamiento profesional y la gu√≠a de instructores certificados en el
        coraz√≥n de Vitacura.
      </p>

      <!-- Badges de valor -->
      <div
        class="flex flex-wrap justify-center gap-4 mt-8 animate-fade-in-up animation-delay-900"
      >
        <span
          class="bg-[var(--warm-gold)] text-white px-4 py-2 rounded-full text-sm font-medium shadow-md"
        >
          üë• M√°ximo 6 personas
        </span>
        <span
          class="bg-[var(--sage-green)] text-white px-4 py-2 rounded-full text-sm font-medium shadow-md"
        >
          ‚è±Ô∏è 55 minutos por clase
        </span>
        <span
          class="bg-[var(--trust-blue)] text-white px-4 py-2 rounded-full text-sm font-medium shadow-md"
        >
          üèÜ Profesionales certificados
        </span>
      </div>
    </div>
  </section>

  <!-- Componentes principales siguiendo el instructivo -->
  <ServiceCard />
  <PricingPlaceholder />
  <ServiceInfo />
  <TrialClassInfo />
  <LocationInfo />
  <FacilitiesAccordion />

  <!-- CTA Final -->
  <section class="py-16 bg-[var(--warm-gray)] text-center relative">
    <div class="container mx-auto px-4 max-w-4xl">
      <h2 class="text-3xl md:text-4xl font-bold mb-6 text-[var(--deep-coral)]">
        Comienza Tu Jornada de Bienestar
      </h2>
      <p class="text-lg mb-8 text-[var(--charcoal-gray)] leading-relaxed">
        Todo est√° listo para recibirte. Da el primer paso hacia una vida m√°s
        saludable y equilibrada.
      </p>

      <div
        class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-8"
      >
        <CTAButton
          href="#clase-prueba"
          variant="primary"
          size="lg"
          icon="sparkles"
          tracking="services_bottom_cta_trial"
        >
          Agenda tu Clase de Prueba
        </CTAButton>

        <CTAButton
          href="/por-que-pilates"
          variant="outline"
          size="lg"
          icon="arrow-right"
        >
          ¬øPor qu√© Pilates?
        </CTAButton>
      </div>

      <!-- Testimonio destacado -->
      <div class="bg-[var(--white)] rounded-lg p-6 shadow-md max-w-2xl mx-auto">
        <blockquote class="text-[var(--charcoal-gray)] italic mb-4">
          "Me encanta ir a pilates, el mejor break de la semana. El servicio
          incre√≠ble, la Lore me transmite demasiada calma y paz en sus clases."
        </blockquote>
        <cite class="text-[var(--trust-blue)] font-semibold"
          >- In√©s Arizt√≠a, alumna VivePilates</cite
        >
      </div>
    </div>
  </section>
</BaseLayout>

<!-- Schema para SEO (LocalBusiness con services) -->
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "@id": "https://vivepilates.cl",
    "name": "VivePilates",
    "description": "Estudio de Pilates en Vitacura con clases personalizadas y grupos reducidos",
    "url": "https://vivepilates.cl",
    "telephone": "+56 9 1234 5678",
    "email": "info@vivepilates.cl",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Av. Kennedy 6800",
      "addressLocality": "Vitacura",
      "addressRegion": "Regi√≥n Metropolitana",
      "addressCountry": "CL"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": "-33.38",
      "longitude": "-70.55"
    },
    "openingHoursSpecification": [
      {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
        "opens": "08:00",
        "closes": "20:00"
      },
      {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": "Saturday",
        "opens": "09:00",
        "closes": "14:00"
      }
    ],
    "priceRange": "$$",
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": "Servicios de Pilates VivePilates",
      "itemListElement": [
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Clases Grupales de Pilates",
            "description": "Clases personalizadas con m√°ximo 6 personas por sesi√≥n, 55 minutos de duraci√≥n",
            "provider": {
              "@type": "Organization",
              "name": "VivePilates"
            }
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Service",
            "name": "Clase de Prueba Gratuita",
            "description": "Primera clase completamente gratuita para nuevos alumnos",
            "provider": {
              "@type": "Organization",
              "name": "VivePilates"
            }
          }
        }
      ]
    },
    "amenityFeature": [
      {
        "@type": "LocationFeatureSpecification",
        "name": "M√°quinas Reformer",
        "value": true
      },
      {
        "@type": "LocationFeatureSpecification",
        "name": "Sillas Multifuncionales",
        "value": true
      },
      {
        "@type": "LocationFeatureSpecification",
        "name": "Barriles Correctores",
        "value": true
      },
      {
        "@type": "LocationFeatureSpecification",
        "name": "Estacionamiento",
        "value": true
      },
      {
        "@type": "LocationFeatureSpecification",
        "name": "Bicicletero",
        "value": true
      }
    ],
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "5.0",
      "reviewCount": "10"
    }
  }
</script>

<style>
  /* ===== ANIMACIONES AVANZADAS PARA EL HERO ===== */

  /* Hero section base */
  .hero-section {
    position: relative;
    background: linear-gradient(
      135deg,
      var(--cream) 0%,
      var(--rose-pale) 40%,
      var(--warm-gray) 60%,
      var(--cream) 100%
    );
  }

  /* ===== ANIMACIONES DE ENTRADA PARA EL TEXTO ===== */

  /* Animaci√≥n principal de fadeInUp */
  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(30px) scale(0.95);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 1s ease-out forwards;
    opacity: 0;
  }

  /* Delays escalonados para efecto secuencial */
  .animation-delay-300 {
    animation-delay: 0.3s;
  }

  .animation-delay-600 {
    animation-delay: 0.6s;
  }

  .animation-delay-900 {
    animation-delay: 0.9s;
  }

  /* ===== ONDAS DE FONDO ABSTRACTAS ===== */
  .wave-animation {
    position: absolute;
    border-radius: 50%;
    opacity: 0.09;
    filter: blur(1px);
  }

  .wave-1 {
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, var(--warm-gold), transparent 70%);
    top: -150px;
    left: -150px;
    animation: waveFloat1 20s ease-in-out infinite;
  }

  .wave-2 {
    width: 240px;
    height: 240px;
    background: radial-gradient(circle, var(--coral-primary), transparent 70%);
    top: 55%;
    right: -120px;
    animation: waveFloat2 24s ease-in-out infinite reverse;
  }

  .wave-3 {
    width: 380px;
    height: 380px;
    background: radial-gradient(circle, var(--trust-blue), transparent 60%);
    bottom: -190px;
    left: 50%;
    transform: translateX(-50%);
    animation: waveFloat3 28s ease-in-out infinite;
  }

  @keyframes waveFloat1 {
    0%,
    100% {
      transform: translate(0, 0) rotate(0deg) scale(1);
    }
    25% {
      transform: translate(28px, -18px) rotate(90deg) scale(1.1);
    }
    50% {
      transform: translate(-18px, 28px) rotate(180deg) scale(0.9);
    }
    75% {
      transform: translate(18px, 10px) rotate(270deg) scale(1.05);
    }
  }

  @keyframes waveFloat2 {
    0%,
    100% {
      transform: translate(0, 0) rotate(0deg) scale(1);
    }
    33% {
      transform: translate(-22px, 22px) rotate(120deg) scale(1.15);
    }
    66% {
      transform: translate(14px, -14px) rotate(240deg) scale(0.85);
    }
  }

  @keyframes waveFloat3 {
    0%,
    100% {
      transform: translateX(-50%) translateY(0) rotate(0deg) scale(1);
    }
    50% {
      transform: translateX(-50%) translateY(-28px) rotate(180deg) scale(1.1);
    }
  }

  /* ===== PART√çCULAS FLOTANTES GEOM√âTRICAS ===== */
  .floating-elements {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .floating-circle,
  .floating-square,
  .floating-triangle,
  .floating-hexagon,
  .floating-diamond {
    position: absolute;
    opacity: 0.13;
  }

  /* C√≠rculos flotantes */
  .floating-circle {
    border-radius: 50%;
    background: linear-gradient(45deg, var(--warm-gold), var(--coral-primary));
  }

  .circle-1 {
    width: 58px;
    height: 58px;
    top: 22%;
    left: 14%;
    animation: gentleFloat 10s ease-in-out infinite;
  }

  .circle-2 {
    width: 38px;
    height: 38px;
    top: 68%;
    right: 16%;
    animation: gentleFloat 13s ease-in-out infinite reverse;
  }

  .circle-3 {
    width: 78px;
    height: 78px;
    bottom: 28%;
    left: 78%;
    animation: gentleFloat 14s ease-in-out infinite;
    animation-delay: -4s;
  }

  /* Cuadrados flotantes */
  .floating-square {
    background: linear-gradient(135deg, var(--sage-green), var(--trust-blue));
    transform: rotate(45deg);
  }

  .square-1 {
    width: 32px;
    height: 32px;
    top: 38%;
    left: 88%;
    animation: rotateFloat 17s linear infinite;
  }

  .square-2 {
    width: 48px;
    height: 48px;
    top: 78%;
    left: 6%;
    animation: rotateFloat 22s linear infinite reverse;
  }

  /* Tri√°ngulos flotantes */
  .floating-triangle {
    width: 0;
    height: 0;
  }

  .triangle-1 {
    border-left: 24px solid transparent;
    border-right: 24px solid transparent;
    border-bottom: 42px solid var(--deep-coral);
    top: 18%;
    right: 10%;
    animation: triangleFloat 16s ease-in-out infinite;
  }

  .triangle-2 {
    border-left: 20px solid transparent;
    border-right: 20px solid transparent;
    border-bottom: 35px solid var(--sage-green);
    bottom: 42%;
    right: 68%;
    animation: triangleFloat 20s ease-in-out infinite reverse;
  }

  /* Hex√°gonos flotantes */
  .floating-hexagon {
    width: 42px;
    height: 24px;
    background: linear-gradient(135deg, var(--trust-blue), var(--warm-gold));
    position: relative;
    opacity: 0.11;
  }

  .floating-hexagon:before,
  .floating-hexagon:after {
    content: '';
    position: absolute;
    width: 0;
    border-left: 21px solid transparent;
    border-right: 21px solid transparent;
  }

  .floating-hexagon:before {
    bottom: 100%;
    border-bottom: 12px solid var(--trust-blue);
  }

  .floating-hexagon:after {
    top: 100%;
    border-top: 12px solid var(--warm-gold);
  }

  .hexagon-1 {
    top: 48%;
    left: 28%;
    animation: hexagonFloat 26s ease-in-out infinite;
  }

  /* Diamantes flotantes (nuevo elemento √∫nico para servicios) */
  .floating-diamond {
    width: 30px;
    height: 30px;
    background: linear-gradient(45deg, var(--coral-primary), var(--deep-coral));
    transform: rotate(45deg);
    position: relative;
    opacity: 0.12;
  }

  .floating-diamond:before {
    content: '';
    position: absolute;
    top: -15px;
    left: 0;
    width: 30px;
    height: 30px;
    background: linear-gradient(45deg, var(--warm-gold), var(--coral-primary));
    transform: rotate(45deg);
  }

  .diamond-1 {
    top: 60%;
    left: 45%;
    animation: diamondFloat 18s ease-in-out infinite;
  }

  /* ===== ANIMACIONES DE ELEMENTOS FLOTANTES ===== */
  @keyframes gentleFloat {
    0%,
    100% {
      transform: translateY(0px) translateX(0px) scale(1);
    }
    25% {
      transform: translateY(-14px) translateX(9px) scale(1.04);
    }
    50% {
      transform: translateY(-22px) translateX(-6px) scale(0.96);
    }
    75% {
      transform: translateY(-9px) translateX(-14px) scale(1.02);
    }
  }

  @keyframes rotateFloat {
    0% {
      transform: rotate(45deg) translateY(0px);
    }
    25% {
      transform: rotate(135deg) translateY(-20px);
    }
    50% {
      transform: rotate(225deg) translateY(-10px);
    }
    75% {
      transform: rotate(315deg) translateY(-28px);
    }
    100% {
      transform: rotate(405deg) translateY(0px);
    }
  }

  @keyframes triangleFloat {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
      opacity: 0.13;
    }
    50% {
      transform: translateY(-20px) rotate(180deg);
      opacity: 0.24;
    }
  }

  @keyframes hexagonFloat {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg) scale(1);
    }
    33% {
      transform: translateY(-16px) rotate(120deg) scale(1.1);
    }
    66% {
      transform: translateY(-6px) rotate(240deg) scale(0.9);
    }
  }

  @keyframes diamondFloat {
    0%,
    100% {
      transform: rotate(45deg) translateY(0px) scale(1);
    }
    25% {
      transform: rotate(135deg) translateY(-12px) scale(1.1);
    }
    50% {
      transform: rotate(225deg) translateY(-20px) scale(0.9);
    }
    75% {
      transform: rotate(315deg) translateY(-8px) scale(1.05);
    }
  }

  /* Gradiente din√°mico superpuesto */
  .dynamic-gradient {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      50deg,
      transparent 0%,
      rgba(212, 165, 116, 0.03) 25%,
      transparent 50%,
      rgba(238, 126, 112, 0.03) 75%,
      transparent 100%
    );
    animation: gradientShift 15s ease-in-out infinite;
  }

  @keyframes gradientShift {
    0%,
    100% {
      opacity: 1;
      transform: translateX(0%) rotate(0deg);
    }
    50% {
      opacity: 0.7;
      transform: translateX(4%) rotate(2deg);
    }
  }

  /* ===== MEJORAS DE ACCESIBILIDAD ===== */
  @media (prefers-reduced-motion: reduce) {
    .wave-animation,
    .floating-circle,
    .floating-square,
    .floating-triangle,
    .floating-hexagon,
    .floating-diamond,
    .dynamic-gradient,
    .animate-fade-in-up {
      animation: none !important;
    }

    .animate-fade-in-up {
      opacity: 1 !important;
      transform: none !important;
    }
  }

  /* ===== OPTIMIZACI√ìN PARA DISPOSITIVOS M√ìVILES ===== */
  @media (max-width: 768px) {
    .floating-elements {
      opacity: 0.7;
    }

    .wave-animation {
      opacity: 0.07;
    }

    /* Reducir elementos en m√≥vil para mejor rendimiento */
    .circle-3,
    .square-2,
    .triangle-2,
    .hexagon-1,
    .diamond-1 {
      display: none;
    }
  }

  /* Gradientes suaves */
  section:first-of-type {
    background-attachment: fixed;
    background-size: cover;
  }
</style>
